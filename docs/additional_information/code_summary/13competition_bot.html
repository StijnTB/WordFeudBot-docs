<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-additional_information/code_summary/13competition_bot" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">competition_bot.py | Wordfeud Bot</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://StijnTB.github.io/CrosswordPuzzleBot-docs/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://StijnTB.github.io/CrosswordPuzzleBot-docs/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://StijnTB.github.io/CrosswordPuzzleBot-docs/docs/additional_information/code_summary/13competition_bot"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="competition_bot.py | Wordfeud Bot"><meta data-rh="true" name="description" content="As previously mentioned, the main code for the bots is contained in one class: CompetitionBot. Because this is the code you are probably most interested in, we will discuss all internal functions and the more important variables per component."><meta data-rh="true" property="og:description" content="As previously mentioned, the main code for the bots is contained in one class: CompetitionBot. Because this is the code you are probably most interested in, we will discuss all internal functions and the more important variables per component."><link data-rh="true" rel="icon" href="/CrosswordPuzzleBot-docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://StijnTB.github.io/CrosswordPuzzleBot-docs/docs/additional_information/code_summary/13competition_bot"><link data-rh="true" rel="alternate" href="https://StijnTB.github.io/CrosswordPuzzleBot-docs/docs/additional_information/code_summary/13competition_bot" hreflang="en"><link data-rh="true" rel="alternate" href="https://StijnTB.github.io/CrosswordPuzzleBot-docs/docs/additional_information/code_summary/13competition_bot" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Additional Information","item":"https://StijnTB.github.io/CrosswordPuzzleBot-docs/docs/category/additional-information"},{"@type":"ListItem","position":2,"name":"Code Summary","item":"https://StijnTB.github.io/CrosswordPuzzleBot-docs/docs/category/code-summary"},{"@type":"ListItem","position":3,"name":"competition_bot.py","item":"https://StijnTB.github.io/CrosswordPuzzleBot-docs/docs/additional_information/code_summary/13competition_bot"}]}</script><link rel="alternate" type="application/rss+xml" href="/CrosswordPuzzleBot-docs/blog/rss.xml" title="Wordfeud Bot RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/CrosswordPuzzleBot-docs/blog/atom.xml" title="Wordfeud Bot Atom Feed"><link rel="stylesheet" href="/CrosswordPuzzleBot-docs/assets/css/styles.c51ffe61.css">
<script src="/CrosswordPuzzleBot-docs/assets/js/runtime~main.5e02253e.js" defer="defer"></script>
<script src="/CrosswordPuzzleBot-docs/assets/js/main.81380821.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/CrosswordPuzzleBot-docs/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/CrosswordPuzzleBot-docs/"><div class="navbar__logo"><img src="/CrosswordPuzzleBot-docs/img/logo.svg" alt="WordFeud Bot Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/CrosswordPuzzleBot-docs/img/logo.svg" alt="WordFeud Bot Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Home</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/CrosswordPuzzleBot-docs/docs/global_introduction">Get Started</a><a class="navbar__item navbar__link" href="/CrosswordPuzzleBot-docs/docs/main_project/introduction_page">Main Project</a><a class="navbar__item navbar__link" href="/CrosswordPuzzleBot-docs/docs/additional_information/introduction_page">Codebase</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/StijnTB/CrosswordPuzzleBot-docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/CrosswordPuzzleBot-docs/docs/global_introduction"><span title="Global Information" class="linkLabel_WmDU">Global Information</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/CrosswordPuzzleBot-docs/docs/category/main-project"><span title="Main Project" class="categoryLinkLabel_W154">Main Project</span></a><button aria-label="Expand sidebar category &#x27;Main Project&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/CrosswordPuzzleBot-docs/docs/category/additional-information"><span title="Additional Information" class="categoryLinkLabel_W154">Additional Information</span></a><button aria-label="Collapse sidebar category &#x27;Additional Information&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/CrosswordPuzzleBot-docs/docs/additional_information/introduction_page"><span title="Code Introduction" class="linkLabel_WmDU">Code Introduction</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/CrosswordPuzzleBot-docs/docs/additional_information/local_setup"><span title="Local Setup" class="linkLabel_WmDU">Local Setup</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" tabindex="0" href="/CrosswordPuzzleBot-docs/docs/category/code-summary"><span title="Code Summary" class="categoryLinkLabel_W154">Code Summary</span></a><button aria-label="Collapse sidebar category &#x27;Code Summary&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/CrosswordPuzzleBot-docs/docs/additional_information/code_summary/1wordfeud_basegame"><span title="WordFeud_basegame.py" class="linkLabel_WmDU">WordFeud_basegame.py</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/CrosswordPuzzleBot-docs/docs/additional_information/code_summary/2wordlists"><span title="Wordlists" class="linkLabel_WmDU">Wordlists</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/CrosswordPuzzleBot-docs/docs/additional_information/code_summary/3globals"><span title="globals.py" class="linkLabel_WmDU">globals.py</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/CrosswordPuzzleBot-docs/docs/additional_information/code_summary/4trieclass"><span title="trieclass.py" class="linkLabel_WmDU">trieclass.py</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/CrosswordPuzzleBot-docs/docs/additional_information/code_summary/5tilebagclass"><span title="tilebagclass.py" class="linkLabel_WmDU">tilebagclass.py</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/CrosswordPuzzleBot-docs/docs/additional_information/code_summary/6tileclass"><span title="tileclass.py" class="linkLabel_WmDU">tileclass.py</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/CrosswordPuzzleBot-docs/docs/additional_information/code_summary/7boardclass"><span title="boardclass.py" class="linkLabel_WmDU">boardclass.py</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/CrosswordPuzzleBot-docs/docs/additional_information/code_summary/8tilerowclass"><span title="tilerowclass.py" class="linkLabel_WmDU">tilerowclass.py</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/CrosswordPuzzleBot-docs/docs/additional_information/code_summary/9sidebar"><span title="sidebar.py" class="linkLabel_WmDU">sidebar.py</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/CrosswordPuzzleBot-docs/docs/additional_information/code_summary/10player"><span title="player.py" class="linkLabel_WmDU">player.py</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/CrosswordPuzzleBot-docs/docs/additional_information/code_summary/11botmove"><span title="botmove.py" class="linkLabel_WmDU">botmove.py</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/CrosswordPuzzleBot-docs/docs/additional_information/code_summary/12bot"><span title="bot.py" class="linkLabel_WmDU">bot.py</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/CrosswordPuzzleBot-docs/docs/additional_information/code_summary/13competition_bot"><span title="competition_bot.py" class="linkLabel_WmDU">competition_bot.py</span></a></li></ul></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/CrosswordPuzzleBot-docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/CrosswordPuzzleBot-docs/docs/category/additional-information"><span>Additional Information</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/CrosswordPuzzleBot-docs/docs/category/code-summary"><span>Code Summary</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">competition_bot.py</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>competition_bot.py</h1></header>
<p>As previously mentioned, the main code for the bots is contained in one class: CompetitionBot. Because this is the code you are probably most interested in, we will discuss all internal functions and the more important variables per component.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="basic-move-code">Basic move code<a href="#basic-move-code" class="hash-link" aria-label="Direct link to Basic move code" title="Direct link to Basic move code" translate="no">​</a></h2>
<p>This section covers the main function <em>competition_bot_play</em> and <em>getGreedyMove</em>, and the backend functions <em>get_letters_in_array</em>, <em>get_attempt_objects_in_array</em>, <em>try_word_on_tile</em>, <em>ends_out_of_bounds</em>, <em>word_has_letters_before_or_after</em>, <em>rearranges_tiles</em>, <em>touches_no_tiles</em>, <em>get_points_and_attempted_words</em> and <em>filter</em>, and <em>countFrequencyOfEachLetterType</em>, <em>letterTypesInWord</em>, <em>hasLetterTypes</em> and <em>hasNeededLetters</em> for backend tasks to make filtering words faster.</p>
<p>The main functionality of the bot lies in <em>competition_bot_play()</em>: this is the only function of the class that gets called externally. It uses <em>getGreedyMove</em> to get the best move and then attempts to execute that move. If anything in that process fails, the bot passes. Otherwise, it will place the tiles and grab new letters. If the bot type is Chance or Combi, a <em>bingo_bonus_score</em> of more than zero can be achieved so another option is to swap letters.</p>
<p><em>getGreedyMove()</em> decides what the best move is. It does this in a few steps. The first one, if the bot is Chance or Combi, is selecting the letter swap that gives the highest <em>bingo_bonus_score</em>, adding that to the <em>possible_moves_list</em> and making it the <em>best_move_greedy</em>. After this, the letters in that row or column combined with the letters in the tilerow are passed to <em>get_attempt_objects_in_array</em> function for every row and column if they either touch a row or column respectively that has a letter in it, or have a letter themselves (<em>skip_array</em>). The <em>best_move_greedy</em> is compared to the best moves for both vertical and horizontal and updated if there is a better move available. <em>best_move_greedy</em> is then returned.</p>
<p><em>get_letters_in_array()</em> takes the arguments <em>row_or_column</em> which decides the direction, and <em>array_index</em> which decides the index of the row or column that is supposed to be checked. It returns the letters currently in that row or column in a string.</p>
<p><em>get_attempt_objects_in_array()</em> takes the arguments <em>row_or_column</em>, <em>array_index</em>, <em>tiles_in_array</em> and <em>bingo_dict</em>. <em>row_or_column</em> and <em>array_index</em> serve the same purpose as in <em>get_letters_in_array</em>, while <em>tiles_in_array</em> is a string consisting of the letters in the row or column combined with the letters in the tilerow and <em>bingo_dict</em> is the dict with letters to be played linked to bingo chances in the next turn, as created in <em>getGreedyMove()</em>. The function first uses <em>filter()</em> to get all words possible with the letters in <em>tiles_in_array</em>, not yet looking at whether those letters are already on the board or where they might be placed. After this, every word is tried on every tile in the row or column using <em>try_word_on_tile</em>, which returns information for the move if it is valid and <em>False</em> if it is an invalid move. The moves are added to the <em>possible_moves_list</em> and compared to the current best move in that direction. After this is done fifteen times (once for every row or column), the <em>best_move_greedy</em> and <em>possible_moves_list</em> for that direction are returned.</p>
<p><em>try_word_on_tile()</em> checks whether playing a word <em>word</em> starting at a certain tile <em>tile</em> in the direction <em>direction</em> with the letters in <em>tiles_in_array</em> available is a valid move. It executes five checks, after each of which it is possible to return <em>False</em> and exit the function:</p>
<ul>
<li class=""><em>ends_out_of_bounds()</em> checks if the main word would have letters outside of the board.</li>
<li class=""><em>touches_no_tiles()</em> checks if the word would touch any tiles.</li>
<li class=""><em>word_has_letters_before_or_after()</em> checks whether the word still has letters before or after it on the board. If so, the word is invalid.</li>
<li class=""><em>rearranges_tiles()</em> makes sure that playing this word does not move any tiles or clear out spaces that were previously occupied by letters, since this is not prevented in the <em>filter</em> function.</li>
<li class=""><em>get_points_and_attempted_words()</em> returns <em>False</em> if any other created words are invalid, and otherwise returns the information about the move that is encapsulated in a BotMove object.</li>
</ul>
<p><em>filter()</em> takes a string with the letters that are available and returns a list of all words that can be created with those characters. It works based on letter frequencies to optimize for speed.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="bingo-score">Bingo score<a href="#bingo-score" class="hash-link" aria-label="Direct link to Bingo score" title="Direct link to Bingo score" translate="no">​</a></h2>
<p>Besides the standard operations, the Chance- and Combibots also need to calculate a <em>bingo_bonus_score</em> to evaluate a move. This is done with the following functions: <em>valid_words</em>, <em>brute_force</em>, <em>sampling</em>, <em>bingo_chance</em>, <em>update_bingo_bonus_score</em> and <em>get_bingo_dict</em>.</p>
<p><em>valid_words()</em> takes a list of characters as input and returns a list of seven-letter words that can be created with either zero, one or two blank tiles, depending on how many the bot currently has.</p>
<p><em>bingo_chance()</em> calculates bingo chances for every tilerow the bot might have in the next turn, using *brute_force() if that number is below four hundred thousand and <em>sampling()</em> if it is higher.</p>
<p><em>brute_force()</em> gives the bingo chances for every combination of letters in every tilerow given. It is used when the number of tilerows is below four hundred thousand.</p>
<p>it will calculate a bingo chance for every combination of letters in every tilerow. Otherwise, the number of tilerows used for this calculation is capped at four hundred thousand.</p>
<p><em>sampling()</em> works the same as <em>brute_force()</em> but uses a maximum number of tilerows of four hundred thousand.</p>
<p><em>update_bingo_bonus_score()</em> combines the functionality of the previously mentioned functions to calculate a <em>bingo_bonus_score</em>.</p>
<p><em>get_bingo_dict()</em> is used to create the bingo dict passed to <em>update_bingo_bonus_score</em>. This dictionary contains the chance that, for any combination of letters the bot has in its tilerow and can play, he will be able to play a bingo in the next turn.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="boardposition-score">Boardposition score<a href="#boardposition-score" class="hash-link" aria-label="Direct link to Boardposition score" title="Direct link to Boardposition score" translate="no">​</a></h2>
<p>To calculate the <em>boardposition_score</em> for the Boardposition- and Combibots, three functions are used: <em>update_boardposition_score</em>, <em>get_danger_word_played_alongside</em>, <em>get_expected_multiplication</em> and <em>get_score_difference</em>.</p>
<p><em>update_boardposition_score()</em> is the longest function in the class due to the complicated nature of the boardposition score. It returns a <em>degradation_value</em> based on expected multiplications for each played tile and the possibilities for playing a word before or after it and alongside it. Since we found it plays relatively defensively, the returned <em>boardposition_score</em> is made smaller when the score difference (opponent&#x27;s score - own score) is greater. This difference is determined in <em>get_score_difference()</em>.</p>
<p><em>get_danger_word_played_alongside()</em> returns a float that is bigger when the danger that a word is played alongside the currently played word is bigger. We have limited the number of calculations the function has to do by only checking for words that end next to the first tile and ones that start next to the last tile.</p>
<p><em>get_expected_multiplication()</em> takes a tile <em>current_tile</em> and calculates an expected multiplication factor in <em>check_direction</em>. This factor is the predicted multiplication a word played over that tile will have due to TW- and DW-tiles.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/StijnTB/CrosswordPuzzleBot-docs/tree/main/docs/additional_information/code_summary/13competition_bot.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/CrosswordPuzzleBot-docs/docs/additional_information/code_summary/12bot"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">bot.py</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#basic-move-code" class="table-of-contents__link toc-highlight">Basic move code</a></li><li><a href="#bingo-score" class="table-of-contents__link toc-highlight">Bingo score</a></li><li><a href="#boardposition-score" class="table-of-contents__link toc-highlight">Boardposition score</a></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>